# Auth Client

> KRGeobuk ìƒíƒœê³„ì˜ ì¤‘ì•™ ì¸ì¦ ì„œë¹„ìŠ¤

auth.krgeobuk.comì—ì„œ ì„œë¹„ìŠ¤ë˜ëŠ” ë…ë¦½ì ì¸ ì¸ì¦ í´ë¼ì´ì–¸íŠ¸ë¡œ, ëª¨ë“  krgeobuk ì„œë¹„ìŠ¤ì˜ SSO(Single Sign-On) í—ˆë¸Œ ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ
- **ì¼ë°˜ ë¡œê·¸ì¸/íšŒì›ê°€ì…** - ì´ë©”ì¼ ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦
- **OAuth ë¡œê·¸ì¸** - Google, Naver ì†Œì…œ ë¡œê·¸ì¸ ì§€ì›
- **SSO í—ˆë¸Œ** - ëª¨ë“  krgeobuk ì„œë¹„ìŠ¤ ê°„ seamless ì¸ì¦ ì—°ë™
- **ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬** - ì°¾ê¸°/ì¬ì„¤ì • ê¸°ëŠ¥ ì™„ë¹„

### ğŸ›¡ï¸ ë³´ì•ˆ ì‹œìŠ¤í…œ
- **Rate Limiting** - ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ ì œí•œ
- **Honeypot** - ë´‡ íƒì§€ ë° ì°¨ë‹¨
- **ì…ë ¥ ê²€ì¦** - SQL ì¸ì ì…˜, XSS ë°©ì§€
- **ì—ëŸ¬ ì²˜ë¦¬** - í¬ê´„ì ì¸ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬ ë° ìë™ ì¬ì‹œë„

### ğŸ¯ ì‚¬ìš©ì ê²½í—˜
- **ìë™ ì¬ì‹œë„** - ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„
- **ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€** - ìƒí™©ë³„ ë§ì¶¤ ì•ˆë‚´
- **ë¡œë”© ìƒíƒœ ê´€ë¦¬** - ì§ê´€ì ì¸ UI í”¼ë“œë°±
- **ë°˜ì‘í˜• ë””ìì¸** - ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ ìµœì í™”ëœ ê²½í—˜

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Next.js 15** - App Router ê¸°ë°˜ ìµœì‹  React í”„ë ˆì„ì›Œí¬
- **TypeScript** - íƒ€ì… ì•ˆì „ì„±ê³¼ ê°œë°œ ìƒì‚°ì„±
- **Tailwind CSS** - ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS í”„ë ˆì„ì›Œí¬
- **Redux Toolkit** - ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœ ê´€ë¦¬

### Backend Integration
- **Axios** - HTTP í´ë¼ì´ì–¸íŠ¸ (ìë™ ì¬ì‹œë„ í¬í•¨)
- **@krgeobuk íŒ¨í‚¤ì§€** - ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### í™˜ê²½ ìš”êµ¬ì‚¬í•­
- Node.js 18+ 
- npm ë˜ëŠ” yarn
- auth-server ì‹¤í–‰ ì¤‘ (í¬íŠ¸ 8000)

### ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local

# 3. ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

ì„œë²„ê°€ http://localhost:3000 ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
```bash
# .env.local íŒŒì¼ì— ì¶”ê°€
NEXT_PUBLIC_AUTH_SERVER_URL=http://localhost:8000
NEXT_PUBLIC_DOMAIN=krgeobuk.com
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### SSO í†µí•© í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant User as ì‚¬ìš©ì
    participant Service as krgeobuk ì„œë¹„ìŠ¤
    participant Auth as auth-client
    participant Server as auth-server

    User->>Service: ì„œë¹„ìŠ¤ ì ‘ê·¼
    Service->>Auth: ì¸ì¦ í•„ìš” (ë¦¬ë‹¤ì´ë ‰íŠ¸)
    User->>Auth: ë¡œê·¸ì¸ ì§„í–‰
    Auth->>Server: ì¸ì¦ ìš”ì²­
    Server->>Auth: ì¸ì¦ ì„±ê³µ
    Auth->>Service: ì¸ì¦ ì™„ë£Œ (ë¦¬ë‹¤ì´ë ‰íŠ¸)
    Service->>User: ì„œë¹„ìŠ¤ ì œê³µ
```

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
src/
â”œâ”€â”€ app/                    # Next.js 15 App Router
â”‚   â”œâ”€â”€ login/             # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ register/          # íšŒì›ê°€ì… í˜ì´ì§€  
â”‚   â”œâ”€â”€ forgot-password/   # ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
â”‚   â””â”€â”€ reset-password/    # ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
â”œâ”€â”€ components/            # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ providers.tsx      # Redux Provider ì„¤ì •
â”œâ”€â”€ lib/                   # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ httpClient.ts      # HTTP í´ë¼ì´ì–¸íŠ¸ (ì¬ì‹œë„ ë¡œì§)
â”œâ”€â”€ services/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ authService.ts     # ì¸ì¦ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ ssoService.ts      # SSO ê´€ë¦¬
â”œâ”€â”€ store/                 # Redux ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ slices/
â”‚       â””â”€â”€ authSlice.ts   # ì¸ì¦ ìƒíƒœ
â””â”€â”€ types/                 # TypeScript íƒ€ì… ì •ì˜
    â””â”€â”€ index.ts
```

## ğŸ”„ OAuth ì¸ì¦ í”Œë¡œìš°

### Google/Naver ë¡œê·¸ì¸ ê³¼ì •
1. **OAuth ë²„íŠ¼ í´ë¦­** - ì‚¬ìš©ìê°€ ì†Œì…œ ë¡œê·¸ì¸ ì„ íƒ
2. **auth-server ë¦¬ë‹¤ì´ë ‰íŠ¸** - `/oauth/login-google` ë˜ëŠ” `/oauth/login-naver` í˜¸ì¶œ
3. **ì œê³µì ì¸ì¦** - Google/Naver ì¸ì¦ í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸
4. **ì½œë°± ì²˜ë¦¬** - auth-serverì—ì„œ OAuth í† í° ì²˜ë¦¬
5. **SSO ì¿ í‚¤ ì„¤ì •** - ë„ë©”ì¸ ì¿ í‚¤ë¥¼ í†µí•œ ì¸ì¦ ìƒíƒœ ì €ì¥
6. **ì„œë¹„ìŠ¤ ë¦¬ë‹¤ì´ë ‰íŠ¸** - ì›ë˜ ìš”ì²­í•œ ì„œë¹„ìŠ¤ë¡œ ìë™ ì´ë™

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ

### ìë™ ì¬ì‹œë„
- **íƒ€ì„ì•„ì›ƒ ì—ëŸ¬** (408) - ìš”ì²­ ì‹œê°„ ì´ˆê³¼
- **ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬** (0) - ì„œë²„ ì—°ê²° ë¶ˆê°€
- **ì„œë²„ ì—ëŸ¬** (500+) - ë‚´ë¶€ ì„œë²„ ì˜¤ë¥˜
- **ìš”ì²­ ì œí•œ** (429) - Rate limit ì´ˆê³¼

### ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„
```
1ì°¨ ì¬ì‹œë„: 1ì´ˆ í›„
2ì°¨ ì¬ì‹œë„: 2ì´ˆ í›„  
ìµœëŒ€ ì¬ì‹œë„: 2íšŒ
```

### ì‚¬ìš©ì ì•ˆë‚´
- ì—ëŸ¬ ìœ í˜•ë³„ ë§ì¶¤ ë©”ì‹œì§€
- ìˆ˜ë™ ì¬ì‹œë„ ë²„íŠ¼ ì œê³µ
- ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## ğŸ“¦ ìŠ¤í¬ë¦½íŠ¸

```bash
# ê°œë°œ
npm run dev          # ê°œë°œ ì„œë²„ ì‹œì‘
npm run build        # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm start            # í”„ë¡œë•ì…˜ ì„œë²„ ì‹œì‘

# ì½”ë“œ í’ˆì§ˆ
npm run lint         # ESLint ê²€ì‚¬
npm run type-check   # TypeScript íƒ€ì… ê²€ì‚¬
```

## ğŸ³ Docker ë°°í¬

### ë¡œì»¬ ë¹Œë“œ
```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t auth-client .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (í¬íŠ¸ 3000ìœ¼ë¡œ ì ‘ê·¼)
docker run -p 3000:3000 --env-file .env.local auth-client
```

### í”„ë¡œë•ì…˜ ë°°í¬
```bash
# í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ì™€ í•¨ê»˜ ì‹¤í–‰
docker run -p 3000:3000 \
  -e NODE_ENV=production \
  -e NEXT_PUBLIC_AUTH_SERVER_URL=https://auth-server.krgeobuk.com \
  -e NEXT_PUBLIC_DOMAIN=krgeobuk.com \
  auth-client
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ Fork
2. feature ë¸Œëœì¹˜ ìƒì„± (`git checkout -b feature/amazing-feature`)
3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹ (`git commit -m 'Add some amazing feature'`)
4. ë¸Œëœì¹˜ì— Push (`git push origin feature/amazing-feature`)
5. Pull Request ìƒì„±

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

**KRGeobuk Auth Client** - ì•ˆì „í•˜ê³  í¸ë¦¬í•œ í†µí•© ì¸ì¦ ì„œë¹„ìŠ¤

Â© 2024 KRGeobuk. All rights reserved.
